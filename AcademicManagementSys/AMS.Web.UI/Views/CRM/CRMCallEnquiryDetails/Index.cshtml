@model AMS.ViewModel.CRMCallEnquiryDetailsViewModel
@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_LayoutV2.cshtml";
}
<link href="@Url.Content("~/Content/materialtheme/vendors/bower_components/bootstrap-select/dist/css/bootstrap-select.css")" rel="stylesheet" type="text/css" />
<style type="text/css">
    .mfp-content {
        width: 70%;
    }
    
    .actions > li > a::before, .actions > a::before {
        height: 0;
    }
    
</style>

<div class="container">
    <div class="block-header">
        <h2 style="text-transform: none;"><i class="zmdi zmdi-view-toc"></i>&nbsp;Call Enquiry</h2>
        <ul class="actions">
            <li>
                <button id="UnallocatedTotal" class="btn btn-danger waves-effect" data-val="true" data-toggle="tooltip" data-placement="top" data-original-title="UnAllocated">0</button>

            </li>
            <li>
                <button id="AllocatedTotal" class="btn btn-success waves-effect" data-val="true" data-toggle="tooltip" data-placement="top" data-original-title="Allocated">0</button>

            </li>
            <li>
                <a style="position:unset;" href="@Url.Action("Download", "CRMCallEnquiryDetails")">
                    <button class="btn bgm-orange waves-effect" data-val="true" data-toggle="tooltip" data-placement="top" data-original-title="Download Data Sheet"><i class="zmdi zmdi-download zmdi-hc-fw"></i></button>
                </a>
            </li>

        </ul>
    </div>
    
    <div class="card" style="margin-bottom: 0px;">
        <div class="card-header">
            <ul class="actions" data-val="true" data-toggle="tooltip" data-placement="left"  data-original-title="Add New">
                <li class="dropdown">
                    <a href="" data-toggle="dropdown">
                        <i class="zmdi zmdi-more-vert"></i>
                    </a>
                    <ul class="dropdown-menu dropdown-menu-right">
                        <li>
                            <a class="mfpAjaxModal" title="Add New" href="@Url.Action("Create", "CRMCallEnquiryDetails")">
                                <i class="zmdi zmdi-plus-square"></i> &nbsp; Add New
                            </a>
                        </li>
                    </ul>
                </li>
            </ul>
        </div>
        @Html.HiddenFor(m => m.errorMessage)
        <form class="row" role="form">
            <div class="card-body card-padding">
                <div class="col-sm-3">
                    <div class="select form-group fg-line">
                        @Html.DropDownListFor(model => model.CallTypeID, (SelectList)ViewBag.CallTypeDescription, new { @class = "form-control input-sm", data_val = "true", data_toggle = "tooltip", data_placement = "top", data_original_title = "Call Type*" })
                    </div>
                </div>

                <div class="col-sm-3">
                    <div class="form-group fg-line select">
                        @Html.DropDownList("Status", ViewData["Status"] as List<SelectListItem>, new { @class = "form-control input-sm", data_val = "true", data_toggle = "tooltip", data_placement = "top", data_original_title = "Status*" })
                       
                    </div>
                </div>
                <div class="col-sm-3">
                    <div class="fg-line dtp-container">
                       
                        @Html.TextBoxFor(m => m.UploadDate, new { Value = "" + DateTime.Now.ToString("d MMM yyyy") + "", @class = "form-control", data_val = "true", data_toggle = "tooltip", data_placement = "top", data_original_title = "Uploded Date*" })
                    </div>
                </div>
                <div class="col-sm-3" style="margin-bottom:0px;">
                   
                    <button type="button" class="btn btn-primary" id="btnShowList">@Resources.GlobalProperties_ShowList</button>
                 </div>
            </div>
        </form>

    </div>

    <div id="ListViewModel">
        @{Html.RenderAction("List", "CRMCallEnquiryDetails");}
    </div>
</div>


<script type="text/javascript">
    $(document).ready(function () {
        CRMCallEnquiryDetails.Initialize();

    });
</script>
<script src="@Url.Content("~/Content/materialtheme/vendors/bower_components/bootstrap-select/dist/js/bootstrap-select.js")" type="text/javascript"></script>
<script src="@Url.Content("~/Scripts/AMS_Scripts/CRM/CRMCallEnquiryDetails.js")" type="text/javascript"></script>
<script src="@Url.Content("~/Content/materialtheme/vendors/bower_components/moment/min/moment.min.js")" type="text/javascript"></script>
<script src="@Url.Content("~/Content/materialtheme/vendors/bower_components/eonasdan-bootstrap-datetimepicker/build/js/bootstrap-datetimepicker.min.js")" type="text/javascript"></script>