@*
    @model AMS.ViewModel.BranchPromotionViewModel

    <script src="@Url.Content("~/Scripts/fnReloadAjax.js")" type="text/javascript"></script>
    <script src="@Url.Content("~/Scripts/jquery.validate.min.js") " type="text/javascript"></script>
    <script src="@Url.Content("~/Scripts/jquery.validate.unobtrusive.min.js")" type="text/javascript"></script>

        <div class="container-fluid">


            <div id="SuccessMessage" style="display:none;color:#000;" class="alert"></div>

                    <ul class="breadcrumb">
                        <li>Student<span class="divider">»</span></li>
                        <li>Branch Promotion</li>
                    </ul>

                    <div class="widget-block">
                        <div class="widget-head">
                            <h5 id="hFive">
                                Branch Promotion
                            </h5>

                        </div>
                        <div id="SuccessMessage" style="display:none;color:#000;" class="alert"></div>
                        <div class="widget-box" >

                            <form id="FormBranchPromotion" method="post" class="form-horizontal well">
                                @Html.AntiForgeryToken()
                                @Html.ValidationSummary(true)

                                <div class="control-group" style="margin-bottom:-13px">

                                    <div class="span4">
                                        @Html.LabelFor(m => m.IsFirstYearPromotion, new { @class = "", style = "font-weight:bold;text-align:left;margin-left:90px" })

                                    </div>
                                    <div class="span2" >
                                        @Html.CheckBoxFor(m => m.IsFirstYearPromotion, new { @class = " ", style = "font-weight:bold" })



                                    </div>

                                </div>

                                <hr />

                                <div class="control-group" style="margin-bottom:5px">

                                    <div class="span2">
                                        @Html.LabelFor(m => m.CentreName, new { @class = "control-label", style = "font-weight:bold" })
                                    </div>
                                    <div class="span3" style="line-height: 25px">

                                        @Html.DropDownListFor(m => m.SelectedCentreCode, Model.StudyCentreListMasterItems, "---------Select Centre---------", new { @class = "", style = "font-weight:bold" })
                                        <br />
                                        @Html.ValidationMessageFor(m => m.SelectedCentreCode)


                                    </div>
                                    <div class="span2">
                                        @Html.LabelFor(m => m.SelectedUniversityID, new { @class = "control-label", style = "font-weight:bold" })
                                    </div>
                                    <div class="span2" style="line-height: 20px">

                                        @Html.DropDownListFor(m => m.SelectedUniversityID, Model.ListOrganisationUnivesitytMasterItems, "---------Select University---------", new { @class = "", style = "font-weight:bold" })
                                        <br />
                                        @Html.ValidationMessageFor(m => m.SelectedUniversityID)
                                    </div>
                                </div>


                                <div class="control-group" style="margin-bottom:5px">

                                    <div class="span2">
                                        @Html.LabelFor(m => m.BranchDescription, new { @class = "control-label", style = "font-weight:bold" })
                                    </div>
                                    <div class="span3" style="line-height: 25px">

                                        @Html.DropDownListFor(m => m.SelectedBranchID, Model.BranchListRoleWiseMasterItems, "---------Select Course---------", new { @class = "", style = "font-weight:bold" })
                                        <br />
                                        @Html.ValidationMessageFor(m => m.SelectedBranchID)


                                    </div>
                                    @if (Model.IsFirstYearPromotion == false)
                                    {
                                        <div class="span2">
                                            @Html.LabelFor(m => m.SectionDetails, new { @class = "control-label SectionDetails", style = "font-weight:bold" })
                                            @Html.LabelFor(m => m.PromotedToNextSection, new { @class = "control-label PromotedToNextSection", style = "font-weight:bold;display:none" })
                                        </div>
                                        <div class="span2" style="line-height: 20px">

                                            @Html.DropDownListFor(m => m.SelectedSectionDetRoleWiseID, Model.SectionDetListRoleWiseMasterItems, "---------Select Section---------", new { @class = "", style = "font-weight:bold" })
                                            <br />
                                            @Html.ValidationMessageFor(m => m.SelectedSectionDetRoleWiseID)

                                        </div>
                                    }

                                    @if (Model.IsFirstYearPromotion == true)
                                    {
                                        <div class="span2">
                                            @Html.LabelFor(m => m.PromotedToNextSection, new { @class = "control-label", style = "font-weight:bold" })
                                        </div>
                                        <div class="span2" style="line-height: 20px">

                                            @Html.DropDownListFor(m => m.SelectedSectionDetRoleWiseID, Model.SectionDetListRoleWiseMasterItems, "---------Select Section---------", new { @class = "", style = "font-weight:bold" })
                                            <br />
                                            @Html.ValidationMessageFor(m => m.SelectedSectionDetRoleWiseID)

                                        </div>
                                    }

                                </div>

                                <div class="control-group" style="margin-bottom:5px">

                                    <div class="span2">
                                        @Html.LabelFor(m => m.SessionName, new { @class = "control-label", style = "font-weight:bold" })
                                    </div>
                                    <div class="span2" style="line-height: 25px">

                                        @Html.DropDownListFor(m => m.SelectedSessionID, Model.SessionListMasterItems, "---------Select Session---------", new { @class = "", style = "font-weight:bold" })
                                        <br />
                                        @Html.ValidationMessageFor(m => m.SelectedSessionID)

                                    </div>
                                    <div class="span3">
                                       &nbsp;
                                    </div>
                                    <div class="span" style="line-height: 20px">
                                        <input type="button" id="btnShow" style="" class="btn btn-primary" value="Show" />
                                        <input type="button" id="btnReset" style="margin-right:35px" class="btn " value="Reset" />
                                    </div>
                                </div>






                                    <div id="firstYearStudentList" style="display:none;">

                                        <div class="widget-head">
                                            <h5 id="hhFive"><i class="black-icons users"></i>&nbsp;@Resources.TabledHeader_ForFirstYearCommonCourse</h5>
                                            <div class="widget-block">
                                                <div class="widget-content">
                                                    <div class="widget-box">
                                                        <div id="DataTables_Table_1_wrapper" class="dataTables_wrapper" role="grid">
                                                            <div class="table_content">
                                                                <table id="FirstYearStudentList" class="table table-striped table-bordered">
                                                                    <thead>
                                                                        <tr>
    

                                                                            <th style="text-align: center; width: 300px; line-height: 10px">StudentName</th>
                                                                            <th style="text-align: center; width: 25%; line-height: 10px">Promot to Section</th>
                                                                            <th style="text-align: center;width:15%;line-height:10px"> @Html.CheckBox("selectAll", new { style = "line-height:35px", @class = "selectedAllCheck" })</th>

                                                                        </tr>
                                                                    </thead>
                                                                </table>
                                                            </div>
                                                            <div class="widget-bottom" style="text-align:right;line-height:40px;">

                                                                <input type="button" id="btnFirstYearStudent" style="margin-right:35px" class="btn btn-primary" value="Submit" />
                                                                <br>
                                                                <br>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="form-actions" style="padding-left: 0px; padding-bottom: 0px; text-align: right">

                                        </div>
                                    </div>



                                @if (Model.IsFirstYearPromotion == false)
                                {
                                    <div id="otherThanFirstYearStudentList">
                                        <div class="widget-head">
                                            <h5 id="hhFive"><i class="black-icons users"></i>&nbsp;@Resources.TabledHeader_OtherThanFirstYearCommonCourse</h5>
                                            <div class="widget-block">
                                                <div class="widget-content">
                                                    <div class="widget-box">
                                                        <div id="DataTables_Table_1_wrapper" class="dataTables_wrapper" role="grid">
                                                            <div class="table_content">
                                                                <table id="OtherThanFirstYearStudentList" class="table table-striped table-bordered">
                                                                    <thead>
                                                                        <tr>


                                                                            <th style="text-align: center; width: 300px; line-height: 10px">StudentName</th>
                                                                            <th style="text-align: center; width: 25%; line-height: 10px">Promot to Section</th>
                                                                            <th style="text-align: center;width:15%;line-height:10px"> @Html.CheckBox("selectAll", new { style = "line-height:35px", @class = "selectedAllCheck" })</th>

                                                                        </tr>
                                                                    </thead>
                                                                </table>
                                                            </div>

                                                            <div class="widget-bottom" style="text-align:right;line-height:40px;">
                                                                <input type="button" id="btnotherThanFirstYearStudentList" style="margin-right:35px" class="btn btn-primary" value="Submit" />
                                                                <br>
                                                                <br>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="form-actions" style="padding-left: 0px; padding-bottom: 0px; text-align: right">

                                        </div>
                                    </div>

                                }


                            </form>
                        </div>
                    </div>



        </div>

    <script type="text/javascript">
        $(document).ready(function () {
            BranchPromotion.Initialize();


            var oTable1 = $('#OtherThanFirstYearStudentList').dataTable({
                "bServerSide": true,
                "sAjaxSource": "BranchPromotion/AjaxHandlerOtherThanFirstYear",
                //"bJQueryUI": true,
                "scrollY": "300px",
                "dom": "frtiS",
                "deferRender": true,

                "bProcessing": true,
                "oLanguage": {
                    "sInfoEmpty": "",
                },
                "fnServerParams": function (aoData) {
                    aoData.push({ "name": "centreCode", "value": $("#SelectedCentreCode").val() });
                    aoData.push({ "name": "sectionDetailsID", "value": $("#SelectedSectionDetRoleWiseID").val() });
                    aoData.push({ "name": "sessionID", "value": $("#SelectedSessionID").val() });
                    aoData.push({ "name": "isFirstYearPromotion", "value": $('input[name=IsFirstYearPromotion]:checked').val() ? true : false });
                },
                "columnDefs": [


                                     {
                                         "targets": 0,
                                         "bSortable": false,
                                         "data": null,
                                         "render": function (data, type, full, meta) {
                                             if (data != null) {
                                                 var result = data[0]
                                                 return result;
                                             }
                                             else {
                                                 return null;
                                             }

                                         }
                                     },
                                     {
                                         "targets": 1,
                                         "bSortable": false,
                                         "data": null,
                                         "render": function (data, type, full, meta) {
                                             if (data[1] != null) {
                                                 var result = data[1]
                                                 return result;
                                             }
                                             else {
                                                 var result = '<p  style="text-align: center; height:5px;"><span style="text-align: center; height:5px;" class="label label-important">Section not defined</span></p>';
                                                 return result;
                                             }

                                         }
                                     },
                                      {
                                          "targets": 2,
                                          "bSortable": false,
                                          "data": null,
                                          "render": function (data, type, full, meta) {

                                              if (data[1] != null) {
                                                  var result = "<p  style=' height:5px;text-align:center'>" + "<input type='checkbox' value= '" + data[2] + "' class='check' id='chkSelectedStudent' />" + "</p>";
                                                  $("input[class=selectedAllCheck]").prop("disabled", false);
                                                  return result;
                                              }
                                              else {
                                                  var result = "<p  style=' height:5px;text-align:center'>" + "<input type='checkbox' value= '" + data[2] + "' class='check' id='chkSelectedStudent' disabled />" + "</p>";
                                                  $("input[class=selectedAllCheck]").prop("disabled", true);
                                                  return result;
                                              }

                                          }
                                      },


                ],
                //"fnRowCallback": function (nRow, aData, iDisplayIndex) {
                //    $("td:first", nRow).html("<p  style=' height:5px;text-align:center'>" + (iDisplayIndex + 1) + "</p>");
                //    return nRow;
                //},

            });

            var oTable2 = $('#FirstYearStudentList').dataTable({
                "bServerSide": true,
                "sAjaxSource": "BranchPromotion/AjaxHandlerFirstYearStudent",
                //"bJQueryUI": true,
                "scrollY": "300px",
                "dom": "frtiS",
                "ScrollY":true,
                "deferRender": true,

                "bProcessing": true,
                "oLanguage": {
                    "sInfoEmpty": "",
                },
                "fnServerParams": function (aoData) {
                    aoData.push({ "name": "centreCode", "value": $("#SelectedCentreCode").val() });
                    aoData.push({ "name": "sectionDetailsID", "value": $("#SelectedSectionDetRoleWiseID").val() });
                    aoData.push({ "name": "sessionID", "value": $("#SelectedSessionID").val() });
                    aoData.push({ "name": "isFirstYearPromotion", "value": $('input[name=IsFirstYearPromotion]:checked').val() ? true : false });
                },
                "columnDefs": [


                                     {
                                         "targets": 0,
                                         "bSortable": false,
                                         "data": null,
                                         "render": function (data, type, full, meta) {
                                             if (data != null) {
                                                 var result = data[0]
                                                 return result;
                                             }
                                             else {
                                                 return null;
                                             }

                                         }
                                     },
                                     {
                                         "targets": 1,
                                         "bSortable": false,
                                         "data": null,
                                         "render": function (data, type, full, meta) {
                                             if (data[1] != null) {
                                                 var result = data[1]
                                                 return result;
                                             }
                                             else {
                                                 var result = '<p  style="text-align: center; height:5px;"><span style="text-align: center; height:5px;" class="label label-important"> Section not defined</span></p>';
                                                 return result;
                                             }

                                         }
                                     },
                                      {
                                          "targets": 2,
                                          "bSortable": false,
                                          "data": null,
                                          "render": function (data, type, full, meta) {
                                              if (data[1] != null) {
                                                  var result = "<p  style=' height:5px;text-align:center'>" + "<input type='checkbox' value= '" + data[2] + "' class='check' id='chkSelectedStudent' />" + "</p>";
                                                  $("input[class=selectedAllCheck]").prop("disabled", false);
                                                  return result;
                                              }
                                              else {
                                                  var result = "<p  style=' height:5px;text-align:center'>" + "<input type='checkbox' value= '" + data[2] + "' class='check' id='chkSelectedStudent' disabled />" + "</p>";
                                                  $("input[class=selectedAllCheck]").prop("disabled",true);
                                                  return result;
                                              }
                                          }
                                      },


                ],
                //"fnRowCallback": function (nRow, aData, iDisplayIndex) {
                //    $("td:first", nRow).html("<p  style=' height:5px;text-align:center'>" + (iDisplayIndex + 1) + "</p>");
                //    return nRow;
                //},

            });
        });

        function ReloadListOtherThanFistYear() {
            oTable1 = $('#OtherThanFirstYearStudentList').dataTable();
            oTable1.fnReloadAjax('BranchPromotion/AjaxHandlerOtherThanFirstYear');
        };

        function ReloadListFirstYearStudent() {
            oTable2 = $('#FirstYearStudentList').dataTable();
            oTable2.fnReloadAjax('BranchPromotion/AjaxHandlerFirstYearStudent');
        };



    </script>


    <style type="text/css">
        .columnDisplay {
            display: none;
        }
    </style>

*@

@model AMS.ViewModel.BranchPromotionViewModel

<script src="@Url.Content("~/Scripts/fnReloadAjax.js")" type="text/javascript"></script>
<script src="@Url.Content("~/Scripts/jquery.validate.min.js") " type="text/javascript"></script>
<script src="@Url.Content("~/Scripts/jquery.validate.unobtrusive.min.js")" type="text/javascript"></script>
@*<div class="container">*@
    <div class="block-header">
        <h2 style="text-transform: none;"><i class="zmdi zmdi-view-toc"></i>&nbsp;Branch Promotion</h2>
    </div>

    <div class="card">
        <form id="FormBranchPromotion" method="post">
            @Html.AntiForgeryToken()
            @Html.ValidationSummary(true)

            <div class="card-body card-padding">
                <div class="row">
                    
                    @*<div class="form-group">
                        <div class="checkbox m-b-15">
                            <label>
                                <input type="checkbox" id="IsFirstYearPromotion">
                                <i class="input-helper"></i>
                                @Html.LabelFor(m => m.IsFirstYearPromotion, new { @class = "", style = "font-weight:bold;text-align:left;margin-left:25px;" })
                            </label>
                            @Html.CheckBoxFor(m => m.IsFirstYearPromotion, new { @class = "", style = "" })
                        </div>
                    </div>*@

                    @*<div class="form-group">
                        <div class="span4" style="">
                            @Html.LabelFor(m => m.IsFirstYearPromotion, new { @class = "", style = "font-weight:bold;text-align:left;margin-left:25px;" })
                            @Html.CheckBoxFor(m => m.IsFirstYearPromotion, new { @class = " ", style = "" })
                        </div>
                    </div>*@
                    @if (@Model.BranchPromotionDTO.IsFirstYearPromotion == true)
                    {
                            <div class="checkbox m-b-15" style="padding-top:0%;">
                                <label style="padding-left:0px;">
                                    <input type="checkbox" id="IsFirstYearPromotion" checked>
                                    <i class="input-helper"></i>
                                    @Html.LabelFor(m => m.IsFirstYearPromotion, new { @class = "", style = "font-weight:bold;" })
                                </label>
                            </div>
                        
                    }
                    else
                    {
                            <div class="checkbox m-b-15" style="padding-top:0%;">
                                <label style="padding-left:0px;">
                                    <input type="checkbox" id="IsFirstYearPromotion">
                                    <i class="input-helper"></i>
                                    @Html.LabelFor(m => m.IsFirstYearPromotion, new { @class = "", style = "font-weight:bold;" })
                                </label>
                            </div>
                        
                    }
                    <hr/>
                    

                    

                    

                    <div class="col-sm-4">
                        <div class="form-group fg-line select">
                            @Html.DropDownListFor(m => m.SelectedCentreCode, Model.StudyCentreListMasterItems, Resources.ddlHeaders_CentreName, new { @class = "form-control" })
                        </div>
                        @Html.ValidationMessageFor(m => m.SelectedCentreCode)
                    </div>

                    <div class="col-sm-4">
                        <div class="form-group fg-line select">
                            @Html.DropDownListFor(m => m.SelectedUniversityID, Model.ListOrganisationUnivesitytMasterItems, "---------Select University---------", new { @class = "form-control" })
                        </div>
                        @Html.ValidationMessageFor(m => m.SelectedUniversityID)
                    </div>

                    <div class="col-sm-4">
                        <div class="form-group fg-line select">
                            @Html.DropDownListFor(m => m.SelectedBranchID, Model.BranchListRoleWiseMasterItems, "---------Select Course---------", new { @class = "form-control" })
                        </div>
                        @Html.ValidationMessageFor(m => m.SelectedBranchID)
                    </div>

                    @if (Model.IsFirstYearPromotion == false)
                    {
                        <div class="col-sm-4">
                            <div class="form-group fg-line select">
                                @Html.DropDownListFor(m => m.SelectedSectionDetRoleWiseID, Model.SectionDetListRoleWiseMasterItems, "---------Select Section---------", new { @class = "form-control" })
                            </div>
                            @Html.ValidationMessageFor(m => m.SelectedSectionDetRoleWiseID)
                        </div>
                    }

                    @if (Model.IsFirstYearPromotion == true)
                    {
                        <div class="col-sm-4">
                            <div class="form-group fg-line select">
                                @Html.DropDownListFor(m => m.SelectedSectionDetRoleWiseID, Model.SectionDetListRoleWiseMasterItems, "---------Select Section---------", new { @class = "form-control" })
                            </div>
                            @Html.ValidationMessageFor(m => m.SelectedSectionDetRoleWiseID)
                        </div>
                    }


                    <div class="col-sm-4">
                        <div class="form-group fg-line select">
                            @Html.DropDownListFor(m => m.SelectedSessionID, Model.SessionListMasterItems, "---------Select Section---------", new { @class = "form-control" })
                        </div>
                        @Html.ValidationMessageFor(m => m.SelectedSessionID)
                    </div>

                    

                    @*<div class="col-sm-4">
                        <div class="checkbox m-b-15" style="padding-top:8%;">
                            <label>
                                <input type="checkbox" id="BackDatetimedEntries" checked>
                                <i class="input-helper"></i>
                                @Html.LabelFor(m => m.IsFirstYearPromotion, new { @class = "", style = "font-weight:bold;" })
                            </label>
                        </div>
                    </div>*@

                    
                       
                    


                    <div class="col-sm-3" style="margin-top:10px;">
                        <button type="button" class="btn btn-primary" id="btnShow">@Resources.GlobalProperties_ShowList</button>
                        <button type="button" class="btn btn-default" id="btnReset">Reset</button>
                    </div>
                </div>
            </div>

            <div id="firstYearStudentList" style="display:none;">
                <div class="bootgrid-header container-fluid" id="data-table-command-header">
                    @*<div class="row">
                        <div class="col-sm-12 actionBar">
                            <div class="search form-group">
                                <div class="input-group">
                                    <span class="zmdi icon input-group-addon glyphicon-search"></span>
                                    <input type="text" id="UserSearch" placeholder="Search" class="search-field form-control">
                                </div>
                                
                            </div>
                            
                            <div class="actions btn-group">
                                <div class="dropdown btn-group">
                                    <button data-toggle="dropdown" type="button" class="btn btn-default dropdown-toggle">
                                        <span class="dropdown-text" id="tblDisplayRowLength">@Resources.GlobalProperties_10</span> <span class="caret"></span>
                                    </button>
                                    <ul role="menu" style="cursor: pointer" id="showrecords" class="dropdown-menu pull-right">
                                        <li class="active" aria-selected="true">
                                            <a class="dropdown-item dropdown-item-button" data-action="@Resources.GlobalProperties_10">@Resources.GlobalProperties_10</a>
                                        </li>
                                        <li aria-selected="false">
                                            <a class="dropdown-item dropdown-item-button" data-action="@Resources.GlobalProperties_25">@Resources.GlobalProperties_25</a>
                                        </li>
                                        <li aria-selected="false"><a class="dropdown-item dropdown-item-button" data-action="@Resources.GlobalProperties_50">@Resources.GlobalProperties_50</a></li>
                                    </ul>
                                </div>
                                <div class="dropdown btn-group">
                                    <button data-toggle="dropdown" type="button" class="btn btn-default dropdown-toggle" aria-expanded="false">
                                        <span class="dropdown-text">
                                            <span class="zmdi icon zmdi-view-module"></span>
                                        </span><span class="caret"></span>
                                    </button>
                                    <ul role="menu" id="toggleTableColumn" class="dropdown-menu pull-right">
                                        <li>
                                            <div class="checkbox">
                                                <label class="dropdown-item" aria-disabled="false">
                                                    <input type="checkbox" checked="checked" class="dropdown-item-checkbox" value="0" name="AdminRoleCode">
                                                    StudentName<i class="input-helper"></i>
                                                </label>
                                            </div>
                                        </li>
                                        <li>
                                            <div class="checkbox">
                                                <label class="dropdown-item" aria-disabled="false">
                                                    <input type="checkbox" checked="checked" class="dropdown-item-checkbox" value="1" name="AdminRoleCode">
                                                    Promot to Section<i class="input-helper"></i>
                                                </label>
                                            </div>
                                        </li>
                                        <li>
                                            <div class="checkbox">
                                                <label class="dropdown-item" aria-disabled="false">
                                                    <input type="checkbox" checked="checked" class="dropdown-item-checkbox" value="2" name="Action">
                                                    @Resources.TableHeaders_Action<i class="input-helper"></i>
                                                </label>
                                            </div>
                                        </li>


                                    </ul>
                                </div>
                            </div>
                            <h5 id="hhFive">@Resources.TabledHeader_ForFirstYearCommonCourse</h5>
                        </div>
                    </div>*@
                </div>




                <table id="FirstYearStudentList" class="table table-striped table-vmiddle table-responsive ">
                    <thead>
                        <tr>
                            <th>StudentName</th>
                            <th>Promot to Section</th>
                            <th>@Html.CheckBox("selectAll", new { style = "", @class = "selectedAllCheck" })</th>
                        </tr>
                    </thead>
                </table>
                <div class="form-group" style="padding-bottom:4%">
                    <input type="button" id="btnFirstYearStudent" style="margin-right:35px" class="btn btn-primary pull-right" value="Submit" />
                </div>
                    @*<div class="form-actions" style="padding-left: 0px; padding-bottom: 0px; text-align: right"></div>*@
                </div>

            <!--secont listing-->
        @if (Model.IsFirstYearPromotion == false)
        {
            <div id="otherThanFirstYearStudentList">
                <div class="bootgrid-header container-fluid" id="data-table-command-header">
                    @*<div class="row">
                        <div class="col-sm-12 actionBar">
                            <div class="search form-group">
                                <div class="input-group">
                                    <span class="zmdi icon input-group-addon glyphicon-search"></span>
                                    <input type="text" id="UserSearch" placeholder="Search" class="search-field form-control">
                                </div>
                            </div>
                            <div class="actions btn-group">
                                <div class="dropdown btn-group">
                                    <button data-toggle="dropdown" type="button" class="btn btn-default dropdown-toggle">
                                        <span class="dropdown-text" id="tblDisplayRowLength">@Resources.GlobalProperties_10</span> <span class="caret"></span>
                                    </button>
                                    <ul role="menu" style="cursor: pointer" id="showrecords" class="dropdown-menu pull-right">
                                        <li class="active" aria-selected="true">
                                            <a class="dropdown-item dropdown-item-button" data-action="@Resources.GlobalProperties_10">@Resources.GlobalProperties_10</a>
                                        </li>
                                        <li aria-selected="false">
                                            <a class="dropdown-item dropdown-item-button" data-action="@Resources.GlobalProperties_25">@Resources.GlobalProperties_25</a>
                                        </li>
                                        <li aria-selected="false"><a class="dropdown-item dropdown-item-button" data-action="@Resources.GlobalProperties_50">@Resources.GlobalProperties_50</a></li>
                                    </ul>
                                </div>
                                <div class="dropdown btn-group">
                                    <button data-toggle="dropdown" type="button" class="btn btn-default dropdown-toggle" aria-expanded="false">
                                        <span class="dropdown-text">
                                            <span class="zmdi icon zmdi-view-module"></span>
                                        </span><span class="caret"></span>
                                    </button>
                                    <ul role="menu" id="toggleTableColumn" class="dropdown-menu pull-right">
                                        <li>
                                            <div class="checkbox">
                                                <label class="dropdown-item" aria-disabled="false">
                                                    <input type="checkbox" checked="checked" class="dropdown-item-checkbox" value="0" name="AdminRoleCode">
                                                    StudentName<i class="input-helper"></i>
                                                </label>
                                            </div>
                                        </li>
                                        <li>
                                            <div class="checkbox">
                                                <label class="dropdown-item" aria-disabled="false">
                                                    <input type="checkbox" checked="checked" class="dropdown-item-checkbox" value="1" name="AdminRoleCode">
                                                    Promot to Section<i class="input-helper"></i>
                                                </label>
                                            </div>
                                        </li>
                                        <li>
                                            <div class="checkbox">
                                                <label class="dropdown-item" aria-disabled="false">
                                                    <input type="checkbox" checked="checked" class="dropdown-item-checkbox" value="2" name="Action">
                                                    @Resources.TableHeaders_Action<i class="input-helper"></i>
                                                </label>
                                            </div>
                                        </li>


                                    </ul>
                                </div>
                            </div>
                            <h5 id="hhFive">@Resources.TabledHeader_OtherThanFirstYearCommonCourse</h5>
                        </div>
                    </div>*@
                </div>




                <table id="OtherThanFirstYearStudentList" class="table table-striped table-vmiddle table-responsive ">
                    <thead>
                        <tr>
                            <th>StudentName</th>
                            <th>Promot to Section</th>
                            
                            @*<th>@Html.CheckBox("selectAll", new { style = "", @class = "selectedAllCheck" })</th>*@
                            <th><p class="checkbox"><input id="selectAll" type="checkbox" class="selectedAllCheck" /><i class='input-helper'></i></p></th>
                            @*<p class='checkbox' style=''>" + "<input type='checkbox' value='" + data[2] + "' class='checkbox check' id='chkSelectedStudent' /><i class='input-helper'></i>" + "</p>;*@
                        </tr>
                    </thead>
                </table>
                <div class="form-group" style="padding-bottom:4%">
                    <input type="button" id="btnotherThanFirstYearStudentList" class="btn btn-primary pull-right" style="margin-right:35px" value="Submit" />
                </div>
                @*<div class="form-actions" style="padding-left: 0px; padding-bottom: 0px; text-align: right">
                    </div>*@
            </div>
        }

</form>
</div>
@*</div>*@
    <script src="@Url.Content("~/Scripts/fnReloadAjax.js")" type="text/javascript"></script>

    <script type="text/javascript">
        $(document).ready(function () {
            var oTable1;
            var oTable2;
            BranchPromotion.Initialize();

            oTable1 = $('#OtherThanFirstYearStudentList').dataTable({
                "bServerSide": true,
                "sAjaxSource": "BranchPromotion/AjaxHandlerOtherThanFirstYear",
                //"bJQueryUI": true,
                "scrollY": "300px",
                "dom": "frtiS",
                "deferRender": true,
                "bAutoWidth":true,
                "bProcessing": true,
                "oLanguage": {
                    "sInfoEmpty": "",
                },
                "fnServerParams": function (aoData) {
                    aoData.push({ "name": "centreCode", "value": $("#SelectedCentreCode").val() });
                    aoData.push({ "name": "sectionDetailsID", "value": $("#SelectedSectionDetRoleWiseID").val() });
                    aoData.push({ "name": "sessionID", "value": $("#SelectedSessionID").val() });
                    aoData.push({ "name": "isFirstYearPromotion", "value": $('input[name=IsFirstYearPromotion]:checked').val() ? true : false });
                },
                "columnDefs": [


                                     {
                                         "targets": 0,
                                         "bSortable": false,
                                         "data": null,
                                         "render": function (data, type, full, meta) {
                                             if (data != null) {
                                                 var result = data[0]
                                                 return result;
                                             }
                                             else {
                                                 return null;
                                             }

                                         }
                                     },
                                     {
                                         "targets": 1,
                                         "bSortable": false,
                                         "data": null,
                                         "render": function (data, type, full, meta) {
                                             if (data[1] != null) {
                                                 var result = data[1]
                                                 return result;
                                             }
                                             else {
                                                 var result = '<span style="" class="btn btn-xs btn-danger">Section not defined</span>';
                                                 return result;
                                             }

                                         }
                                     },
                                      {
                                          "targets": 2,
                                          "bSortable": false,
                                          "data": null,
                                          "render": function (data, type, full, meta) {

                                              if (data[1] != null) {
                                                  var result = "<p class='checkbox' style=''>" + "<input type='checkbox' value= '" + data[2] + "' class='checkbox check' id='chkSelectedStudent' /><i class='input-helper'></i>" + "</p>";
                                                 //old// var result = "<p  style=''>" + "<input type='checkbox' value= '" + data[2] + "' class='check' id='chkSelectedStudent' />" + "</p>";
                                                  $("input[class=selectedAllCheck]").prop("disabled", false);
                                                  return result;
                                              }
                                              else {
                                                  var result = "<p class='checkbox' style=''>" + "<input type='checkbox' value= '" + data[2] + "' class='checkbox check' id='chkSelectedStudent' disabled /><i class='input-helper'></i>" + "</p>";
                                                  //old// var result = "<p  style=''>" + "<input type='checkbox' value= '" + data[2] + "' class='check' id='chkSelectedStudent' disabled />" + "</p>";
                                                  $("input[class=selectedAllCheck]").prop("disabled", true);
                                                  return result;
                                              }

                                          }
                                      },


                ],


            });

            //DataTableSettings(oTable1, "FirstYearStudentList", "toggleTableColumn");

            oTable2 = $('#FirstYearStudentList').dataTable({
                "bServerSide": true,
                "sAjaxSource": "BranchPromotion/AjaxHandlerFirstYearStudent",
                //"bJQueryUI": true,
                "scrollY": "300px",
                "dom": "frtiS",
                "ScrollY": true,
                "deferRender": true,
                "bAutoWidth": true,
                "bProcessing": true,
                "oLanguage": {
                    "sInfoEmpty": "",
                },
                "fnServerParams": function (aoData) {
                    aoData.push({ "name": "centreCode", "value": $("#SelectedCentreCode").val() });
                    aoData.push({ "name": "sectionDetailsID", "value": $("#SelectedSectionDetRoleWiseID").val() });
                    aoData.push({ "name": "sessionID", "value": $("#SelectedSessionID").val() });
                    aoData.push({ "name": "isFirstYearPromotion", "value": $('input[name=IsFirstYearPromotion]:checked').val() ? true : false });
                },
                "columnDefs": [


                                     {
                                         "targets": 0,
                                         "bSortable": false,
                                         "data": null,
                                         "render": function (data, type, full, meta) {
                                             if (data != null) {
                                                 var result = data[0]
                                                 return result;
                                             }
                                             else {
                                                 return null;
                                             }

                                         }
                                     },
                                     {
                                         "targets": 1,
                                         "bSortable": false,
                                         "data": null,
                                         "render": function (data, type, full, meta) {
                                             if (data[1] != null) {
                                                 var result = data[1]
                                                 return result;
                                             }
                                             else {
                                                 var result = '<span style="" class="btn btn-xs btn-danger">Section not defined</span>';
                                                 return result;
                                             }

                                         }
                                     },
                                      {
                                          "targets": 2,
                                          "bSortable": false,
                                          "data": null,
                                          "render": function (data, type, full, meta) {
                                              if (data[1] != null) {
                                                  //var result = "<p class='checkbox' style=''>" + "<input type='checkbox' value= '" + data[2] + "' class='checkbox' id='chkSelectedStudent' /><i class='input-helper'></i>" + "</p>";
                                                  var result = "<p  style=''>" + "<input type='checkbox' value= '" + data[2] + "' class='check' id='chkSelectedStudent' />" + "</p>";
                                                  $("input[class=selectedAllCheck]").prop("disabled", false);
                                                  return result;
                                              }
                                              else {
                                                  //var result = "<p  class='checkbox' style=''>" + "<input type='checkbox' value= '" + data[2] + "' class='checkbox' id='chkSelectedStudent' disabled /><i class='input-helper'></i>" + "</p>";
                                                  var result = "<p  style=''>" + "<input type='checkbox' value= '" + data[2] + "' class='check' id='chkSelectedStudent' disabled />" + "</p>";
                                                  $("input[class=selectedAllCheck]").prop("disabled", true);
                                                  return result;
                                              }
                                          }
                                      },


                ],


            });

            //DataTableSettings(oTable2, "OtherThanFirstYearStudentList", "toggleTableColumn");
            $("#FirstYearStudentList_length").hide();
            $("#FirstYearStudentList_filter").hide();
            $("#OtherThanFirstYearStudentList_length").hide();
            $("#OtherThanFirstYearStudentList_filter").hide();
        });

        function ReloadListOtherThanFistYear() {
            oTable1 = $('#OtherThanFirstYearStudentList').dataTable();
            oTable1.fnReloadAjax('BranchPromotion/AjaxHandlerOtherThanFirstYear');
        };

        function ReloadListFirstYearStudent() {
            oTable2 = $('#FirstYearStudentList').dataTable();
            oTable2.fnReloadAjax('BranchPromotion/AjaxHandlerFirstYearStudent');
        };



    </script>
